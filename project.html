<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projects - Jiaying Yu (Belle)</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="project.css" />
  </head>
  <body>
    <header>
      <div class="header-container">
        <div class="header-left-content-container">
          <nav>
            <a href="index.html">About</a>
            <a
              href="https://github.com/JiayingYu152/image-and-files/raw/24184f2fe6787c57035295eb39b0236a80ce76e8/Jiaying%20Yu's%20Resume%20and%20Cover%20Letter.pdf"
              target="_blank"
              rel="noopener noreferrer"
              >Resume</a
            >
            <a href="blog.html">Blog</a>
            <a href="contact.html">Contact</a>
          </nav>
        </div>
        <div class="header-right-content-container">
          <nav>
            <a href="https://github.com/JiayingYu152">
              <img src="/data/github.svg" alt="Github" />
            </a>
            <a href="https://www.linkedin.com/in/jiaying-yu-belle4104/">
              <img src="/data/linkedin.svg" alt="LinkedIn" />
            </a>
            <a href="https://www.producthunt.com/@belle_yu">
              <img src="data/product-hunt.svg" alt="Product Hunt" />
            </a>
            <a href="https://www.instagram.com/biubiu125/">
              <img src="data/instagram.svg" alt="Instagram" />
            </a>
            <span class="contact-link">
              <a href="contact.html"
                ><img src="data/envelope.svg" alt="Contact"
              /></a>
            </span>
          </nav>
        </div>
      </div>
    </header>

    <main>
      <section class="project-page-content-container">
        <div class="sidebar">
          <h2>Project Content</h2>
          <ul>
            <li><a href="section1">Pin & Ongoing</a></li>
            <li><a href="section2">Professional</a></li>
            <li><a href="section3">Entreprenurship</a></li>
          </ul>
        </div>

        <div class="main-content-container"></div>
      </section>
    </main>

    <footer>
      <p>&copy; 2024 Jiaying Yu (Belle)</p>
    </footer>

    <script>
      window.onload = function () {
        const images = document.querySelectorAll(".gallery img");

        images.forEach((image) => {
          image.addEventListener("click", () => {
            console.log("Image clicked!");
            window.open(image.src, "_blank");
          });
        });
      };
    </script>
    <script type="module">
      import { projectData } from "./projectData.js"; // 确保路径正确，并且 projectData.js 中有 export

      function createProjectSection(project) {
        const techniques =
          project.techniques.length > 0
            ? `<p><strong>Techniques:</strong> ${project.techniques.join(
                ", "
              )}</p>`
            : "";

        const tasks =
          project.tasks.length > 0
            ? `<ul>${project.tasks
                .map((task) => `<li>${task}</li>`)
                .join("")}</ul>`
            : "";
        const images =
          project.image_gallery.length > 0
            ? `<div class="image-gallery">${project.image_gallery
                .map((image) => `<img src="${image}" alt="Project Image" />`)
                .join("")}</div>`
            : "";

        const verification = project.verification
          ? `<p><strong>Verification:</strong> ${project.verification}</p>`
          : "";
        const verificationLink = project.verification_link
          ? `<a href="${project.verification_link}" target="_blank">Verification Link</a>`
          : "";
        const additionalInfo = project.additional_information
          ? `<p><strong>Additional Information:</strong> ${project.additional_information}</p>`
          : "";

        return `
          <div class="project-section">
            <a href="${project.link}"><h3>${project.project_name}</h3></a>
            <p><strong>Date:</strong> ${project.date}</p>
            <p><strong>Role:</strong> ${project.role}</p>
            <p><strong>Techniques:</strong> ${techniques}</p>
            <p><strong>Description:</strong> ${project.short_description}</p>
            <ul>${tasks}</ul>
            <div class="image-gallery">${images}</div>
            <p><strong>Verification:</strong> ${project.verification}</p>
            <a href="${
              project.verification_link
            }" target="_blank">Verification Link</a>
            <p><strong>Additional Information:</strong> ${
              project.additional_information || ""
            }</p>
          </div>
        `;
      }

      function displayProject() {
        const contentContainer = document.querySelector(
          ".main-content-container"
        );
        contentContainer.innerHTML = ""; // 清除原有内容

        Object.keys(projectData).forEach((section) => {
          // 修改变量名拼写错误
          const sectionElement = document.createElement("section");
          sectionElement.innerHTML = `<h2 id="section${section}">${section}</h2>`;
          projectData[section].forEach((project) => {
            sectionElement.innerHTML += createProjectSection(project);
          });
          contentContainer.appendChild(sectionElement);
        });
      }

      window.addEventListener("load", displayProject); // 使用 addEventListener 而不是直接赋值
    </script>
  </body>
</html>
